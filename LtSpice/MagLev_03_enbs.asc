Version 4
SHEET 1 1892 960
WIRE -208 -1264 -208 -1280
WIRE -208 -1264 -336 -1264
WIRE -336 -1232 -336 -1264
WIRE -208 -1232 -208 -1264
WIRE 560 -1216 560 -1232
WIRE 688 -1216 560 -1216
WIRE 560 -1200 560 -1216
WIRE 688 -1200 688 -1216
WIRE -96 -1184 -144 -1184
WIRE 144 -1136 144 -1152
WIRE 368 -1120 176 -1120
WIRE -336 -1104 -336 -1168
WIRE -336 -1104 -464 -1104
WIRE -208 -1104 -208 -1136
WIRE -208 -1104 -336 -1104
WIRE -96 -1104 -96 -1184
WIRE -64 -1104 -96 -1104
WIRE 112 -1104 16 -1104
WIRE 288 -1088 176 -1088
WIRE 560 -1088 560 -1136
WIRE 560 -1088 288 -1088
WIRE 688 -1088 688 -1120
WIRE 688 -1088 560 -1088
WIRE -208 -1072 -208 -1104
WIRE -336 -1056 -336 -1104
WIRE 688 -1056 688 -1088
WIRE 144 -1040 144 -1072
WIRE 560 -1040 560 -1088
WIRE -1152 -1024 -1152 -1056
WIRE -1008 -1024 -1008 -1056
WIRE -864 -1024 -864 -1056
WIRE -96 -1024 -96 -1104
WIRE -96 -1024 -144 -1024
WIRE 368 -1024 368 -1120
WIRE 560 -960 560 -976
WIRE 688 -960 688 -976
WIRE 688 -960 560 -960
WIRE -336 -944 -336 -992
WIRE -208 -944 -208 -976
WIRE -208 -944 -336 -944
WIRE -192 -944 -208 -944
WIRE 560 -944 560 -960
WIRE -464 -928 -464 -1104
WIRE -464 -928 -592 -928
WIRE 1472 -912 1472 -960
WIRE 1632 -912 1472 -912
WIRE 1472 -896 1472 -912
WIRE 1632 -880 1632 -912
WIRE -592 -864 -592 -928
WIRE -464 -864 -464 -928
WIRE -368 -864 -464 -864
WIRE -320 -864 -368 -864
WIRE -80 -864 -240 -864
WIRE 32 -864 -80 -864
WIRE 368 -864 368 -944
WIRE 368 -864 32 -864
WIRE 32 -848 32 -864
WIRE -1152 -832 -1152 -944
WIRE -1008 -832 -1008 -944
WIRE -864 -832 -864 -944
WIRE 768 -832 688 -832
WIRE 960 -832 832 -832
WIRE -368 -800 -368 -864
WIRE -224 -800 -368 -800
WIRE -80 -800 -80 -864
WIRE -80 -800 -160 -800
WIRE 1472 -768 1472 -816
WIRE 1632 -768 1632 -816
WIRE 1632 -768 1472 -768
WIRE 1792 -768 1632 -768
WIRE -592 -752 -592 -784
WIRE -592 -752 -688 -752
WIRE 32 -752 32 -768
WIRE 32 -752 -464 -752
WIRE 160 -752 32 -752
WIRE 288 -752 288 -1088
WIRE 288 -752 240 -752
WIRE -592 -720 -592 -752
WIRE 416 -720 352 -720
WIRE 688 -720 688 -832
WIRE 688 -720 496 -720
WIRE 768 -720 688 -720
WIRE 960 -720 960 -832
WIRE 960 -720 848 -720
WIRE 1632 -720 1632 -768
WIRE 1472 -704 1472 -768
WIRE -208 -672 -208 -688
WIRE -208 -672 -336 -672
WIRE -1232 -656 -1232 -704
WIRE -1152 -656 -1152 -688
WIRE -1152 -656 -1232 -656
WIRE -688 -656 -688 -752
WIRE -336 -640 -336 -672
WIRE -208 -640 -208 -672
WIRE 352 -640 352 -720
WIRE 1632 -624 1632 -640
WIRE 1632 -624 1504 -624
WIRE 1632 -608 1632 -624
WIRE -96 -592 -144 -592
WIRE -1152 -560 -1152 -656
WIRE -1008 -560 -1008 -688
WIRE -864 -560 -864 -688
WIRE -592 -560 -592 -640
WIRE -464 -560 -464 -752
WIRE -464 -560 -592 -560
WIRE 800 -560 800 -576
WIRE 144 -544 144 -560
WIRE 960 -544 960 -720
WIRE 960 -544 832 -544
WIRE 1008 -544 960 -544
WIRE 1152 -544 1088 -544
WIRE 1168 -544 1152 -544
WIRE 256 -528 176 -528
WIRE 352 -528 352 -576
WIRE 352 -528 256 -528
WIRE 384 -528 352 -528
WIRE 416 -528 384 -528
WIRE 688 -528 688 -720
WIRE 688 -528 496 -528
WIRE 768 -528 688 -528
WIRE -464 -512 -464 -560
WIRE -336 -512 -336 -576
WIRE -336 -512 -464 -512
WIRE -208 -512 -208 -544
WIRE -208 -512 -336 -512
WIRE -96 -512 -96 -592
WIRE -64 -512 -96 -512
WIRE 112 -512 16 -512
WIRE 880 -512 832 -512
WIRE -688 -496 -688 -576
WIRE 288 -496 288 -752
WIRE 288 -496 176 -496
WIRE 1472 -496 1472 -544
WIRE 1632 -496 1632 -528
WIRE 1632 -496 1472 -496
WIRE 1808 -496 1632 -496
WIRE -208 -480 -208 -512
WIRE -336 -464 -336 -512
WIRE 800 -464 800 -496
WIRE 144 -448 144 -480
WIRE 960 -448 960 -464
WIRE -96 -432 -96 -512
WIRE -96 -432 -144 -432
WIRE 256 -432 256 -528
WIRE 384 -432 384 -528
WIRE 1472 -432 1472 -496
WIRE 1632 -416 1632 -496
WIRE -1152 -384 -1152 -480
WIRE -1008 -384 -1008 -480
WIRE -864 -384 -864 -480
WIRE -336 -352 -336 -400
WIRE -208 -352 -208 -384
WIRE -208 -352 -336 -352
WIRE -192 -352 -208 -352
WIRE 880 -352 880 -512
WIRE 960 -352 960 -368
WIRE 960 -352 880 -352
WIRE 1472 -336 1472 -352
WIRE 1632 -336 1632 -352
WIRE 1632 -336 1472 -336
WIRE -464 -320 -464 -512
WIRE 256 -320 256 -352
WIRE 256 -320 -464 -320
WIRE 384 -320 384 -368
WIRE 384 -320 256 -320
WIRE 960 -320 960 -352
WIRE 1472 -304 1472 -336
WIRE 960 -224 960 -240
FLAG -1008 -384 0
FLAG -1152 -688 +12V
FLAG -1152 -384 0
FLAG -1008 -688 +5V
FLAG -1152 -832 0
FLAG -1152 -1056 Vsig_z
FLAG -1008 -832 0
FLAG -864 -832 0
FLAG -1008 -1056 Vsig_x
FLAG -864 -1056 Vsig_y
FLAG -208 -1280 DR
FLAG -208 -688 DR
FLAG 144 -448 0
FLAG 144 -560 +12V
FLAG 144 -1040 0
FLAG 144 -1152 +12V
FLAG -192 -944 RL
FLAG -192 -352 RL
FLAG 800 -464 0
FLAG 800 -576 +12V
FLAG 1152 -544 Vsig_x
FLAG -864 -384 0
FLAG -864 -688 RL
FLAG -1232 -704 DR
FLAG 1472 -304 0
FLAG 1472 -960 +12V
FLAG 1792 -768 Vref+
FLAG 1808 -496 Vref-
FLAG 960 -464 Vref+
FLAG 960 -224 Vref-
FLAG 560 -1232 Vref+
FLAG 560 -944 Vref-
FLAG -688 -496 RL
SYMBOL voltage -1008 -576 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName +5V
SYMATTR Value 5
SYMBOL voltage -1152 -576 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName +12V
SYMATTR Value 12
SYMBOL voltage -1152 -1040 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vsig_z
SYMATTR Value 2.72
SYMBOL voltage -1008 -1040 R0
WINDOW 123 24 44 Left 2
WINDOW 39 0 0 Left 0
WINDOW 3 24 72 Left 2
SYMATTR Value 6
SYMATTR InstName Vsig_x
SYMBOL voltage -864 -1040 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vsig_y
SYMATTR Value 2.72
SYMBOL pnp -144 -976 R180
SYMATTR InstName Q1
SYMATTR Value 2SB1708
SYMBOL npn -144 -1232 M0
SYMATTR InstName Q2
SYMATTR Value 2SD2673
SYMBOL diode -320 -1168 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL diode -320 -992 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL diode -320 -576 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL diode -320 -400 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMATTR Value 1N4148
SYMBOL res -224 -880 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1.5k
SYMBOL ind -608 -880 R0
SYMATTR InstName L1
SYMATTR Value 7.4m
SYMATTR SpiceLine Rser=6
SYMBOL res 32 -1120 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 51
SYMBOL res 32 -528 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 51
SYMBOL res 240 -448 R0
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL cap 336 -640 R0
SYMATTR InstName C1
SYMATTR Value 560n
SYMBOL res 512 -544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 3.3k
SYMBOL res 512 -736 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 1k
SYMBOL res 864 -736 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 130k
SYMBOL res 1104 -560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 10k
SYMBOL res 944 -464 R0
SYMATTR InstName R17
SYMATTR Value 1k
SYMBOL res 944 -336 R0
SYMATTR InstName R18
SYMATTR Value 1k
SYMBOL res -880 -576 R0
SYMATTR InstName R19
SYMATTR Value 0
SYMBOL pnp -144 -384 R180
SYMATTR InstName Q3
SYMATTR Value 2SB1708
SYMBOL npn -144 -640 M0
SYMATTR InstName Q4
SYMATTR Value 2SD2673
SYMBOL OpAmps\\opamp2 32 -192 M0
SYMATTR InstName U4
SYMATTR Value lm324
SYMBOL ind -608 -736 R0
SYMATTR InstName L2
SYMATTR Value 7.4m
SYMATTR SpiceLine Rser=6
SYMBOL res 352 -1040 R0
SYMATTR InstName R1
SYMATTR Value 430k
SYMBOL res 16 -864 R0
SYMATTR InstName R2
SYMATTR Value 1.2k
SYMBOL res 256 -768 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 31k
SYMBOL AutoGenerated\\TL431 1472 -576 R270
SYMATTR InstName U2
SYMBOL res 1456 -912 R0
SYMATTR InstName R4
SYMATTR Value 180
SYMBOL res 1616 -736 R0
SYMATTR InstName R5
SYMATTR Value 5.1k
SYMBOL res 1616 -624 R0
SYMATTR InstName R7
SYMATTR Value 5.1k
SYMBOL res 1456 -448 R0
SYMATTR InstName R20
SYMATTR Value 180
SYMBOL cap 1616 -416 R0
SYMATTR InstName C2
SYMATTR Value .1µ
SYMBOL cap 1616 -880 R0
SYMATTR InstName C3
SYMATTR Value .1µ
SYMBOL cap 544 -1200 R0
SYMATTR InstName C6
SYMATTR Value 220µ
SYMATTR SpiceLine Rser=0.16
SYMATTR SpiceLine2 IC=2.5
SYMBOL cap 544 -1040 R0
SYMATTR InstName C7
SYMATTR Value 220µ
SYMATTR SpiceLine Rser=0.16
SYMATTR SpiceLine2 IC=2.5
SYMBOL res 672 -1216 R0
SYMATTR InstName R11
SYMATTR Value 1k
SYMBOL res 672 -1072 R0
SYMATTR InstName R12
SYMATTR Value 1k
SYMBOL OpAmps\\UniversalOpAmp2 800 -528 M0
SYMATTR InstName U5
SYMBOL cap 832 -848 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 0.4n
SYMBOL OpAmps\\UniversalOpAmp2 144 -512 M0
SYMATTR InstName U1
SYMBOL OpAmps\\UniversalOpAmp2 144 -1104 M0
SYMATTR InstName U3
SYMBOL cap 368 -432 R0
SYMATTR InstName C5
SYMATTR Value 4.5n
SYMBOL cap -160 -816 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C8
SYMATTR Value 30n
TEXT -424 -200 Left 2 !.include lm324.txt\n.include irf530.txt\n.include tl431.txt
TEXT -424 -56 Left 2 !.dc Vsig_x 5.5 6.5
TEXT 480 -288 Left 2 ;Vout = -7.5(Vin - 2.5) + 2.5
TEXT -424 -16 Left 2 !;.ac dec 100 1 100k
TEXT -424 40 Left 2 !;.step dec param X 1n 100n 10
